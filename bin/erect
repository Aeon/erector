#!/usr/local/bin/ruby
dir = File.expand_path(File.dirname(__FILE__))
$LOAD_PATH.unshift("#{dir}/../lib")
require "erector"
require "erector/erected"  # pull this out so we don't recreate the grammar every time

ARGV.each do |file|
  print "Erecting #{file}... "
  begin
    e = Erector::Erected.new(file)
    e.convert
    puts "--> #{e.filename}"
  rescue => e
    puts e
    puts
  end
end
